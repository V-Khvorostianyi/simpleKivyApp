#:import program program
#:import w wallet_app
#:import sla kivy.adapters.simplelistadapter
#:import t tester

<CustomDropDown>:
    Button:
        id: btn
        text: 'Select Account'
        on_release: dropdown.open(self)
        size_hint_y: None
        height: '48dp'

    DropDown:

        id: dropdown
        on_select: btn.text = '{}'.format(args[1])

        Button:
            text: 'First Item'
            size_hint_y: None
            height: '48dp'
            on_release: dropdown.select(self.text)
        Label:
            text: 'Second Item'
            size_hint_y: None
            height: '48dp'

        Button:
            text: 'Third Item'
            size_hint_y: None
            height: '48dp'
<Lb>:
    size: 100, 210

<MainView>:
    ListView:
        adapter:
            sla.SimpleListAdapter(
            data=w.search(w.wallet.transaction_list)[1],
#            args_converter=program.list_item_args_converter,
            cls=program.Lb
            )

<TransactionScreen>:
    AnchorLayout:
        padding:
            root.width*.1,10,root.width*.1,root.height * 3/4
        GridLayout:
            rows: 2
            spacing:20
            row_force_default: True
            row_default_height: 40
            Button:
                text: "Back"
                on_press:
                    root.clear_widgets()
                    root.add_widget(program.StartScreen())
            BoxLayout:
                TextInput:
                Button:
                    text: "Search"
    AnchorLayout:
        padding: root.width*.1,root.height * 1/4,root.width*.1,10
        MainView

<StartScreen>:
    AnchorLayout:
        padding:
            root.width*.1,10,root.width*.1,root.height * 3/4
        HeadTitle:
    AnchorLayout:
        padding: root.width*.1,root.height * 3/4,root.width*.1,10
        GridLayout:
            cols: 2
            Button:
                text: "add new transaction"
                on_press:
                    root.clear_widgets()
                    root.add_widget(program.InputWindow())
            Button:
                text: "add account"
                on_press:
                    root.clear_widgets()
            Button:
                text: "add category"
            Button:
                text: "view all transactions"
                on_press:
                    root.clear_widgets()
                    root.add_widget(program.TransactionScreen())
<HeadTitle>:
    GridLayout:
        rows: 2
        Label:
            text: "MyWallet\n"
        BoxLayout:
            Label:
                text: "\nLast transaction:\n{}".format(w.last_transaction_view())
            Label:
                text: "Accounts:\n{}".format(w.list_view(w.wallet.account_list))

<InputWindow>:
    AnchorLayout:
        padding: 50,root.width*.1,50, root.height*.1
        GridLayout:
            rows:2
            Label:
                text: "Enter value"
            CustomDropDown:
            GridLayout:
                rows: 2
                cols: 2
                TextInput:
                    id: val
                Button:
                    text: "Choose account"
                    on_press:
                Button:
                    text: "Back"
                    on_press:
                        root.clear_widgets()
                        root.add_widget(program.StartScreen())

    AnchorLayout:
        padding: 10,root.width*.1,10, root.height*.4
        Btn:

<Root>:
    StartScreen:
#    start_screen: startScreen
#    head_title: headTitle
#
#    StartScreen:
#        id: startScreen
#        size: root.width, root.height/2
#
#
#    HeadTitle:
#        id: headTitle
#        size: root.width/2, root.height/4
#        pos: root.center_x/2, root.height * 3/4

















